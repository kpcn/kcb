---
import type { CollectionEntry } from 'astro:content';
import { readTime } from 'src/utils';
import Tags from './Tags.astro';

interface Props {
  post: CollectionEntry<'blog'>;
}

const {
  post: { body, data, slug, id },
} = Astro.props;
const readingTime = readTime(body);
---

<article
  id={id}
  class="flex flex-col w-full px-3 py-2 space-y-2 md:rounded-md hover:bg-gradient-to-t hover:from-white hover:to-slate-50 hover:shadow-sm dark:hover:shadow-sm dark:hover:from-slate-600 dark:hover:to-slate-700"
>
  <a href={`/blog/${slug}`} class="cursor-pointer">
    <h1
      class="mb-1 text-xl antialiased font-semibold tracking-wide text-gray-600 font-firamono dark:text-slate-50"
    >
      {data.title}
    </h1>
    <div
      class="flex items-center py-1 text-gray-500 space-x-7 dark:text-slate-50"
    >
      <div class="flex items-center space-x-2">
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"
          ></path>
        </svg>
        <span class="italic">{data.publishedAt}</span>
      </div>
      <div class="flex items-center space-x-2">
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span class="italic">
          {readingTime}
        </span>
      </div>
    </div>
    <p
      class="py-1 text-lg antialiased font-normal text-slate-700 font-firamono dark:text-slate-50"
    >
      {data.excerpt}
    </p>
  </a>
  <Tags tags={data.tags || []} />
</article>
